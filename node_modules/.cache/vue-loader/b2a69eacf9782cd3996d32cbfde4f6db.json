{"remainingRequest":"G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!G:\\jingdong\\src\\views\\login\\Login.vue?vue&type=template&id=2529d779&scoped=true","dependencies":[{"path":"G:\\jingdong\\src\\views\\login\\Login.vue","mtime":1625409143367},{"path":"G:\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"G:\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQo8ZGl2IGNsYXNzPSJ3cmFwcGVyIj4NCiAgPGltZyBjbGFzcz0id3JhcHBlcl9faW1nIiBzcmM9Ii4uLy4uL2Fzc2V0cy/nvJbnu4QucG5nIj4NCjxkaXYgY2xhc3M9IndyYXBwZXJfX2lucHV0Ij4NCiAgPCEtLSDkvb/nlKh2LW1vZGVs5a6e546w5pWw5o2u55qE5Y+M5ZCR57uR5a6a77yMZGF0YS51c2VybmFtZeWwseetieS6juatpOaXtui+k+WFpei/meS4qmlucHV05qGG55qE5YC8IC0tPg0KICA8aW5wdXQgY2xhc3M9IndyYXBwZXJfX2lucHV0X19jb250ZW50IiBwbGFjZWhvbGRlcj0i6K+36L6T5YWl5omL5py65Y+3IiB2LW1vZGVsPSJ1c2VybmFtZSIvPg0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0id3JhcHBlcl9faW5wdXQiPg0KICAgIDwhLS0g5L2/55Sodi1tb2RlbOWunueOsOaVsOaNrueahOWPjOWQkee7keWumu+8jGRhdGEucGFzc3dvcmTlsLHnrYnkuo7mraTml7bovpPlhaXov5nkuKppbnB1dOahhueahOWAvCAtLT4NCiAgPGlucHV0DQogIGNsYXNzPSJ3cmFwcGVyX19pbnB1dF9fY29udGVudCIgcGxhY2Vob2xkZXI9Iuivt+i+k+WFpeWvhueggSIgdHlwZT0icGFzc3dvcmQiIHYtbW9kZWw9InBhc3N3b3JkIi8+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJ3cmFwcGVyX19sb2dpbi1idXR0b24iIEBjbGljaz0iaGFuZGxlTG9naW4iPg0KICAgIOeZu+W9lQ0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0id3JhcHBlcl9fbG9naW4tbGluayIgQGNsaWNrPSJoYW5kbGVSZWdpc3RlckNsaWNrIj4NCiAgICDnq4vljbPms6jlhowNCiAgPC9kaXY+DQogIDxUb2FzdCB2LWlmPSJzaG93IiA6bWVzc2FnZT0idG9hc3RNZXNzYWdlIi8+DQogIDwvZGl2Pg0KDQo="},{"version":3,"sources":["G:\\jingdong\\src\\views\\login\\Login.vue"],"names":[],"mappings":";AACA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EACzD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC/E,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EAC3D,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACvF,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;EACH,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3C,CAAC,CAAC,CAAC,CAAC,CAAC","file":"G:/jingdong/src/views/login/Login.vue","sourceRoot":"","sourcesContent":["<template>\r\n<div class=\"wrapper\">\r\n  <img class=\"wrapper__img\" src=\"../../assets/编组.png\">\r\n<div class=\"wrapper__input\">\r\n  <!-- 使用v-model实现数据的双向绑定，data.username就等于此时输入这个input框的值 -->\r\n  <input class=\"wrapper__input__content\" placeholder=\"请输入手机号\" v-model=\"username\"/>\r\n  </div>\r\n  <div class=\"wrapper__input\">\r\n    <!-- 使用v-model实现数据的双向绑定，data.password就等于此时输入这个input框的值 -->\r\n  <input\r\n  class=\"wrapper__input__content\" placeholder=\"请输入密码\" type=\"password\" v-model=\"password\"/>\r\n  </div>\r\n  <div class=\"wrapper__login-button\" @click=\"handleLogin\">\r\n    登录\r\n  </div>\r\n  <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">\r\n    立即注册\r\n  </div>\r\n  <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\nconst userLoginEffect = (showToast) => {\r\n  const router = useRouter()// 路由 用于页面跳转\r\n  const data = reactive({ // 中的数据已经与 input框的输入内容完成了双向绑定，输入内容改变，data里面的数据也相应改变，所以要用reactive 实现数据改变时的动态响应\r\n    username: '',\r\n    password: ''\r\n  })\r\n\r\n  // 登录点击\r\n  const handleLogin = async () => {\r\n    try {\r\n      const { username, password } = data\r\n      if (username === '' || password === '') {\r\n        return showToast('用户名和密码不能为空')\r\n      }\r\n      // 如果接口地址写错那么就会直接弹出去，不会政治性else登录失败语句，所以用try catch捕获错误\r\n      const result = await post('/api/user/login', { // post函数定义在utils/request.js中，封装了发送post请求的功能\r\n        username: data.username,\r\n        password: data.password\r\n      })\r\n      console.log(result)\r\n      if (result?.errno === 0) {\r\n        localStorage.isLogin = true\r\n        router.push({ name: 'Home' })\r\n      } else {\r\n        showToast('登录失败')\r\n      }\r\n    } catch {\r\n      showToast('请求失败')\r\n    }\r\n\r\n    // .then(() => {\r\n    //   localStorage.isLogin = true// 只要点击登录就给  localStorage.isLogin = true，跳转需要使用这个localStorage.isLogin\r\n    //   router.push({ name: 'Home' })// 跳转到Home页面\r\n    // }).catch(() => {\r\n    //   alert('失败')\r\n    // })\r\n  }\r\n  const { username, password } = toRefs(data)\r\n  return { username, password, handleLogin }\r\n}\r\n\r\nconst userRegisterEffect = () => {\r\n  const router = useRouter()// 路由 用于页面跳转\r\n  const handleRegisterClick = () => {\r\n    router.push({ name: 'Register' })// 跳转到Register页面\r\n  }\r\n  return { handleRegisterClick }\r\n}\r\n\r\nexport default {\r\n  components: { Toast },\r\n  name: 'Login',\r\n  setup () { // 代码执行流程\r\n    const { show, toastMessage, showToast } = useToastEffect()// 解构赋值\r\n    const { username, password, handleLogin } = userLoginEffect(showToast)\r\n    const { handleRegisterClick } = userRegisterEffect()\r\n\r\n    return {\r\n      handleLogin,\r\n      handleRegisterClick,\r\n      username,\r\n      password,\r\n      show,\r\n      toastMessage\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n  position: absolute;\r\n  top:50%;\r\n  left:0;\r\n  right:0;\r\n  transform: translateY(-50%);\r\n  &__img{\r\n    width:.66rem;\r\n    height: .66rem;\r\n    display: block;\r\n    margin:0 auto .4rem auto;\r\n  }\r\n  &__input{\r\n    background: #F9F9F9;\r\n    border:1px solid rgba(0,0,0,0.10);\r\n    border-radius: 6px;\r\n    height:.48rem;\r\n    margin:0 .4rem .16rem .4rem;\r\n    padding: 0 .16rem;\r\n    &__content{\r\n      border:none;\r\n      outline: none;\r\n      line-height: .48rem;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: .16rem;\r\n       color: $content-notice-fontcolor;\r\n      &::placeholder{\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__login-button{\r\n   background: $btn-bgcolor;\r\n   box-shadow: 0 4px 8px 0 rgba(0,   145,255,0.32);\r\n    border-radius: 4px;\r\n    line-height:.48rem;\r\n    width: 2.95rem;\r\n    color:$bgcolor;\r\n    text-align: center;\r\n    font-size: .16rem;\r\n    margin: .32rem .4rem 0 .4rem;\r\n  }\r\n  &__login-link{\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    margin:.16rem;\r\n    color:$content-notice-fontcolor;\r\n\r\n  }\r\n}\r\n</style>\r\n"]}]}