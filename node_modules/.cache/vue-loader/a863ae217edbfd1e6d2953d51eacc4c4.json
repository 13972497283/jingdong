{"remainingRequest":"G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!G:\\jingdong\\src\\views\\login\\Login.vue?vue&type=template&id=2529d779&scoped=true","dependencies":[{"path":"G:\\jingdong\\src\\views\\login\\Login.vue","mtime":1624020521947},{"path":"G:\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"G:\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQo8ZGl2IGNsYXNzPSJ3cmFwcGVyIj4NCiAgPGltZyBjbGFzcz0id3JhcHBlcl9faW1nIiBzcmM9Ii4uLy4uL2Fzc2V0cy/nvJbnu4QucG5nIj4NCjxkaXYgY2xhc3M9IndyYXBwZXJfX2lucHV0Ij4NCiAgPCEtLSDkvb/nlKh2LW1vZGVs5a6e546w5pWw5o2u55qE5Y+M5ZCR57uR5a6a77yMZGF0YS51c2VybmFtZeWwseetieS6juatpOaXtui+k+WFpei/meS4qmlucHV05qGG55qE5YC8IC0tPg0KICA8aW5wdXQgY2xhc3M9IndyYXBwZXJfX2lucHV0X19jb250ZW50IiBwbGFjZWhvbGRlcj0i6K+36L6T5YWl5omL5py65Y+3IiB2LW1vZGVsPSJkYXRhLnVzZXJuYW1lIi8+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJ3cmFwcGVyX19pbnB1dCI+DQogICAgPCEtLSDkvb/nlKh2LW1vZGVs5a6e546w5pWw5o2u55qE5Y+M5ZCR57uR5a6a77yMZGF0YS5wYXNzd29yZOWwseetieS6juatpOaXtui+k+WFpei/meS4qmlucHV05qGG55qE5YC8IC0tPg0KICA8aW5wdXQNCiAgY2xhc3M9IndyYXBwZXJfX2lucHV0X19jb250ZW50IiBwbGFjZWhvbGRlcj0i6K+36L6T5YWl5a+G56CBIiB0eXBlPSJwYXNzd29yZCIgdi1tb2RlbD0iZGF0YS5wYXNzd29yZCIvPg0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0id3JhcHBlcl9fbG9naW4tYnV0dG9uIiBAY2xpY2s9ImhhbmRsZUxvZ2luIj4NCiAgICDnmbvlvZUNCiAgPC9kaXY+DQogIDxkaXYgY2xhc3M9IndyYXBwZXJfX2xvZ2luLWxpbmsiIEBjbGljaz0iaGFuZGxlUmVnaXN0ZXJDbGljayI+DQogICAg56uL5Y2z5rOo5YaMDQogIDwvZGl2Pg0KICA8VG9hc3Qgdi1pZj0iZGF0YS5zaG93VG9hc3QiIDptZXNzYWdlPSJkYXRhLnRvYXN0TWVzc2FnZSIvPg0KICA8L2Rpdj4NCg0K"},{"version":3,"sources":["G:\\jingdong\\src\\views\\login\\Login.vue"],"names":[],"mappings":";AACA,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EACzD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACpF,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EAC3D,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5F,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;EACH,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1D,CAAC,CAAC,CAAC,CAAC,CAAC","file":"G:/jingdong/src/views/login/Login.vue","sourceRoot":"","sourcesContent":["<template>\r\n<div class=\"wrapper\">\r\n  <img class=\"wrapper__img\" src=\"../../assets/编组.png\">\r\n<div class=\"wrapper__input\">\r\n  <!-- 使用v-model实现数据的双向绑定，data.username就等于此时输入这个input框的值 -->\r\n  <input class=\"wrapper__input__content\" placeholder=\"请输入手机号\" v-model=\"data.username\"/>\r\n  </div>\r\n  <div class=\"wrapper__input\">\r\n    <!-- 使用v-model实现数据的双向绑定，data.password就等于此时输入这个input框的值 -->\r\n  <input\r\n  class=\"wrapper__input__content\" placeholder=\"请输入密码\" type=\"password\" v-model=\"data.password\"/>\r\n  </div>\r\n  <div class=\"wrapper__login-button\" @click=\"handleLogin\">\r\n    登录\r\n  </div>\r\n  <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">\r\n    立即注册\r\n  </div>\r\n  <Toast v-if=\"data.showToast\" :message=\"data.toastMessage\"/>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast from '../../components/Toast'\r\nexport default {\r\n  components: { Toast },\r\n  name: 'Login',\r\n  setup () {\r\n    const router = useRouter()\r\n    const data = reactive({ // 中的数据已经与 input框的输入内容完成了双向绑定，输入内容改变，data里面的数据也相应改变，所以要用reactive 实现数据改变时的动态响应\r\n      username: '',\r\n      password: '',\r\n      showToast: false,\r\n      toastMessage: ''\r\n    })\r\n    const showToast = (message) => { // 因为请求失败与登录失败的弹窗逻辑一样，所以封装弹窗函数\r\n      data.toastMessage = message\r\n      data.showToast = true\r\n      setTimeout(() => {\r\n        data.showToast = false\r\n        data.toastMessage = ''\r\n      }, 2000)\r\n    }\r\n    const handleLogin = async () => {\r\n      try { // 如果接口地址写错那么就会直接弹出去，不会政治性else登录失败语句，所以用try catch捕获错误\r\n        const result = await post('/api1/user/login', { // post函数定义在utils/request.js中，封装了发送post请求的功能\r\n          username: data.username,\r\n          password: data.password\r\n        })\r\n        console.log(result)\r\n        if (result?.errno === 0) {\r\n          localStorage.isLogin = true\r\n          router.push({ name: 'Home' })\r\n        } else {\r\n          showToast('登录失败')\r\n        }\r\n      } catch {\r\n        showToast('请求失败')\r\n      }\r\n\r\n      // .then(() => {\r\n      //   localStorage.isLogin = true// 只要点击登录就给  localStorage.isLogin = true，跳转需要使用这个localStorage.isLogin\r\n      //   router.push({ name: 'Home' })// 跳转到Home页面\r\n      // }).catch(() => {\r\n      //   alert('失败')\r\n      // })\r\n    }\r\n    const handleRegisterClick = () => {\r\n      router.push({ name: 'Register' })// 跳转到Register页面\r\n    }\r\n    return { handleLogin, handleRegisterClick, data }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n  position: absolute;\r\n  top:50%;\r\n  left:0;\r\n  right:0;\r\n  transform: translateY(-50%);\r\n  &__img{\r\n    width:.66rem;\r\n    height: .66rem;\r\n    display: block;\r\n    margin:0 auto .4rem auto;\r\n  }\r\n  &__input{\r\n    background: #F9F9F9;\r\n    border:1px solid rgba(0,0,0,0.10);\r\n    border-radius: 6px;\r\n    height:.48rem;\r\n    margin:0 .4rem .16rem .4rem;\r\n    padding: 0 .16rem;\r\n    &__content{\r\n      border:none;\r\n      outline: none;\r\n      line-height: .48rem;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: .16rem;\r\n       color: $content-notice-fontcolor;\r\n      &::placeholder{\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__login-button{\r\n   background: #0091FF;\r\n   box-shadow: 0 4px 8px 0 rgba(0,   145,255,0.32);\r\n    border-radius: 4px;\r\n    line-height:.48rem;\r\n    width: 2.95rem;\r\n    color:#FFFFFF;\r\n    text-align: center;\r\n    font-size: .16rem;\r\n    margin: .32rem .4rem 0 .4rem;\r\n  }\r\n  &__login-link{\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    margin:.16rem;\r\n    color:$content-notice-fontcolor;\r\n\r\n  }\r\n}\r\n</style>\r\n"]}]}