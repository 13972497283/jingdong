{"remainingRequest":"G:\\jingdong\\node_modules\\babel-loader\\lib\\index.js!G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!G:\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!G:\\jingdong\\src\\views\\login\\Login.vue?vue&type=template&id=2529d779&scoped=true","dependencies":[{"path":"G:\\jingdong\\src\\views\\login\\Login.vue","mtime":1624020521947},{"path":"G:\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"G:\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7CmltcG9ydCBfaW1wb3J0c18wIGZyb20gJy4uLy4uL2Fzc2V0cy/nvJbnu4QucG5nJzsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTI1MjlkNzc5Iik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0yNTI5ZDc3OSIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJ3cmFwcGVyIgp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgY2xhc3M6ICJ3cmFwcGVyX19pbWciLAogIHNyYzogX2ltcG9ydHNfMAp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogIndyYXBwZXJfX2lucHV0Igp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogIndyYXBwZXJfX2lucHV0Igp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X1RvYXN0ID0gX3Jlc29sdmVDb21wb25lbnQoIlRvYXN0Iik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVDb21tZW50Vk5vZGUoIiDkvb/nlKh2LW1vZGVs5a6e546w5pWw5o2u55qE5Y+M5ZCR57uR5a6a77yMZGF0YS51c2VybmFtZeWwseetieS6juatpOaXtui+k+WFpei/meS4qmlucHV05qGG55qE5YC8ICIpLCBfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIGNsYXNzOiAid3JhcHBlcl9faW5wdXRfX2NvbnRlbnQiLAogICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXmiYvmnLrlj7ciLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5kYXRhLnVzZXJuYW1lID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLmRhdGEudXNlcm5hbWVdXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOS9v+eUqHYtbW9kZWzlrp7njrDmlbDmja7nmoTlj4zlkJHnu5HlrprvvIxkYXRhLnBhc3N3b3Jk5bCx562J5LqO5q2k5pe26L6T5YWl6L+Z5LiqaW5wdXTmoYbnmoTlgLwgIiksIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dF9fY29udGVudCIsCiAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeWvhueggSIsCiAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5kYXRhLnBhc3N3b3JkID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLmRhdGEucGFzc3dvcmRdXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogIndyYXBwZXJfX2xvZ2luLWJ1dHRvbiIsCiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC5oYW5kbGVMb2dpbiAmJiAkc2V0dXAuaGFuZGxlTG9naW4uYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiIOeZu+W9lSAiKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgICBjbGFzczogIndyYXBwZXJfX2xvZ2luLWxpbmsiLAogICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuaGFuZGxlUmVnaXN0ZXJDbGljayAmJiAkc2V0dXAuaGFuZGxlUmVnaXN0ZXJDbGljay5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICIg56uL5Y2z5rOo5YaMICIpLCAkc2V0dXAuZGF0YS5zaG93VG9hc3QgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9Ub2FzdCwgewogICAga2V5OiAwLAogICAgbWVzc2FnZTogJHNldHVwLmRhdGEudG9hc3RNZXNzYWdlCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm1lc3NhZ2UiXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSk7Cn0pOw=="},{"version":3,"sources":["G:\\jingdong\\src\\views\\login\\Login.vue"],"names":[],"mappings":";OAE4B,U,MAAyB,qB;;;;;;;AADhD,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAoD,KAApD,EAAoD;AAA/C,EAAA,KAAK,EAAC,cAAyC;AAA1B,EAAA,GAAyB,EAAzB;AAA0B,CAApD,E,IAAA,E;;AAAA,C;;;AACG,EAAA,KAAK,EAAC;;;AAIJ,EAAA,KAAK,EAAC;;;;;;;;uBANb,YAAA,CAkBQ,KAlBR,EAAA,UAAA,EAkBQ,CAjBN,UAiBM,EAhBR,YAAA,CAGQ,KAHR,EAAA,UAAA,EAGQ,CAFN,mBAAA,CAAA,qDAAA,CAEM,E,gBADN,YAAA,CAAqF,OAArF,EAAqF;AAA9E,IAAA,KAAK,EAAC,yBAAwE;AAA9C,IAAA,WAAW,EAAC,QAAkC;;aAAhB,MAAA,CAAA,IAAA,CAAK,QAAL,GAAa,M;;AAAG,GAArF,E,IAAA,E;;AAAA,G,iBAAqE,MAAA,CAAA,IAAA,CAAK,Q,GACpE,CAHR,CAgBQ,EAZN,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,CAHJ,mBAAA,CAAA,qDAAA,CAGI,E,gBAFN,YAAA,CAC6F,OAD7F,EAC6F;AAA7F,IAAA,KAAK,EAAC,yBAAuF;AAA7D,IAAA,WAAW,EAAC,OAAiD;AAAzC,IAAA,IAAI,EAAC,UAAoC;;aAAhB,MAAA,CAAA,IAAA,CAAK,QAAL,GAAa,M;;AAAG,GAD7F,E,IAAA,E;;AAAA,G,iBAC6E,MAAA,CAAA,IAAA,CAAK,Q,GAC5E,CAJN,CAYM,EAPN,YAAA,CAEM,KAFN,EAEM;AAFD,IAAA,KAAK,EAAC,uBAEL;AAF8B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,WAAA,IAAA,MAAA,CAAA,WAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAEnC,GAFN,EAAwD,MAAxD,CAOM,EAJN,YAAA,CAEM,KAFN,EAEM;AAFD,IAAA,KAAK,EAAC,qBAEL;AAF4B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,mBAAA,IAAA,MAAA,CAAA,mBAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAEjC,GAFN,EAA8D,QAA9D,CAIM,EADO,MAAA,CAAA,IAAA,CAAK,S,kBAAlB,YAAA,CAA2D,gBAA3D,EAA2D;UAAA;AAA7B,IAAA,OAAO,EAAE,MAAA,CAAA,IAAA,CAAK;AAAe,GAA3D,E,IAAA,E;;AAAA,I,WAAA,C,qCACM,CAlBR,C","sourcesContent":["<template>\r\n<div class=\"wrapper\">\r\n  <img class=\"wrapper__img\" src=\"../../assets/编组.png\">\r\n<div class=\"wrapper__input\">\r\n  <!-- 使用v-model实现数据的双向绑定，data.username就等于此时输入这个input框的值 -->\r\n  <input class=\"wrapper__input__content\" placeholder=\"请输入手机号\" v-model=\"data.username\"/>\r\n  </div>\r\n  <div class=\"wrapper__input\">\r\n    <!-- 使用v-model实现数据的双向绑定，data.password就等于此时输入这个input框的值 -->\r\n  <input\r\n  class=\"wrapper__input__content\" placeholder=\"请输入密码\" type=\"password\" v-model=\"data.password\"/>\r\n  </div>\r\n  <div class=\"wrapper__login-button\" @click=\"handleLogin\">\r\n    登录\r\n  </div>\r\n  <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">\r\n    立即注册\r\n  </div>\r\n  <Toast v-if=\"data.showToast\" :message=\"data.toastMessage\"/>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast from '../../components/Toast'\r\nexport default {\r\n  components: { Toast },\r\n  name: 'Login',\r\n  setup () {\r\n    const router = useRouter()\r\n    const data = reactive({ // 中的数据已经与 input框的输入内容完成了双向绑定，输入内容改变，data里面的数据也相应改变，所以要用reactive 实现数据改变时的动态响应\r\n      username: '',\r\n      password: '',\r\n      showToast: false,\r\n      toastMessage: ''\r\n    })\r\n    const showToast = (message) => { // 因为请求失败与登录失败的弹窗逻辑一样，所以封装弹窗函数\r\n      data.toastMessage = message\r\n      data.showToast = true\r\n      setTimeout(() => {\r\n        data.showToast = false\r\n        data.toastMessage = ''\r\n      }, 2000)\r\n    }\r\n    const handleLogin = async () => {\r\n      try { // 如果接口地址写错那么就会直接弹出去，不会政治性else登录失败语句，所以用try catch捕获错误\r\n        const result = await post('/api1/user/login', { // post函数定义在utils/request.js中，封装了发送post请求的功能\r\n          username: data.username,\r\n          password: data.password\r\n        })\r\n        console.log(result)\r\n        if (result?.errno === 0) {\r\n          localStorage.isLogin = true\r\n          router.push({ name: 'Home' })\r\n        } else {\r\n          showToast('登录失败')\r\n        }\r\n      } catch {\r\n        showToast('请求失败')\r\n      }\r\n\r\n      // .then(() => {\r\n      //   localStorage.isLogin = true// 只要点击登录就给  localStorage.isLogin = true，跳转需要使用这个localStorage.isLogin\r\n      //   router.push({ name: 'Home' })// 跳转到Home页面\r\n      // }).catch(() => {\r\n      //   alert('失败')\r\n      // })\r\n    }\r\n    const handleRegisterClick = () => {\r\n      router.push({ name: 'Register' })// 跳转到Register页面\r\n    }\r\n    return { handleLogin, handleRegisterClick, data }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n  position: absolute;\r\n  top:50%;\r\n  left:0;\r\n  right:0;\r\n  transform: translateY(-50%);\r\n  &__img{\r\n    width:.66rem;\r\n    height: .66rem;\r\n    display: block;\r\n    margin:0 auto .4rem auto;\r\n  }\r\n  &__input{\r\n    background: #F9F9F9;\r\n    border:1px solid rgba(0,0,0,0.10);\r\n    border-radius: 6px;\r\n    height:.48rem;\r\n    margin:0 .4rem .16rem .4rem;\r\n    padding: 0 .16rem;\r\n    &__content{\r\n      border:none;\r\n      outline: none;\r\n      line-height: .48rem;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: .16rem;\r\n       color: $content-notice-fontcolor;\r\n      &::placeholder{\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__login-button{\r\n   background: #0091FF;\r\n   box-shadow: 0 4px 8px 0 rgba(0,   145,255,0.32);\r\n    border-radius: 4px;\r\n    line-height:.48rem;\r\n    width: 2.95rem;\r\n    color:#FFFFFF;\r\n    text-align: center;\r\n    font-size: .16rem;\r\n    margin: .32rem .4rem 0 .4rem;\r\n  }\r\n  &__login-link{\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    margin:.16rem;\r\n    color:$content-notice-fontcolor;\r\n\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}