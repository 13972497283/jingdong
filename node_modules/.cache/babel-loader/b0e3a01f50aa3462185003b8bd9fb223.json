{"remainingRequest":"G:\\远程京东\\jingdong\\node_modules\\babel-loader\\lib\\index.js!G:\\远程京东\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\远程京东\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!G:\\远程京东\\jingdong\\src\\views\\register\\Register.vue?vue&type=template&id=09939685&scoped=true","dependencies":[{"path":"G:\\远程京东\\jingdong\\src\\views\\register\\Register.vue","mtime":1625409143354},{"path":"G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\远程京东\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\远程京东\\jingdong\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\远程京东\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB2TW9kZWxUZXh0IGFzIF92TW9kZWxUZXh0LCB3aXRoRGlyZWN0aXZlcyBhcyBfd2l0aERpcmVjdGl2ZXMsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7CmltcG9ydCBfaW1wb3J0c18wIGZyb20gJy4uLy4uL2Fzc2V0cy/nvJbnu4QucG5nJzsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTA5OTM5Njg1Iik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0wOTkzOTY4NSIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJ3cmFwcGVyIgp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgY2xhc3M6ICJ3cmFwcGVyX19pbWciLAogIHNyYzogX2ltcG9ydHNfMAp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogIndyYXBwZXJfX2lucHV0Igp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogIndyYXBwZXJfX2lucHV0Igp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogIndyYXBwZXJfX2lucHV0Igp9OwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X1RvYXN0ID0gX3Jlc29sdmVDb21wb25lbnQoIlRvYXN0Iik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dF9fY29udGVudCIsCiAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeaJi+acuuWPtyIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLnVzZXJuYW1lID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLnVzZXJuYW1lXV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dF9fY29udGVudCIsCiAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeWvhueggSIsCiAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5wYXNzd29yZCA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5wYXNzd29yZF1dKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZVZOb2RlKCJpbnB1dCIsIHsKICAgIGNsYXNzOiAid3JhcHBlcl9faW5wdXRfX2NvbnRlbnQiLAogICAgcGxhY2Vob2xkZXI6ICLnoa7orqTlr4bnoIEiLAogICAgdHlwZTogInBhc3N3b3JkIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAuZW5zdXJlbWVudCA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5lbnN1cmVtZW50XV0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJ3cmFwcGVyX19yZWdpc3Rlci1idXR0b24iLAogICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuaGFuZGxlUmVnaXN0ZXIgJiYgJHNldHVwLmhhbmRsZVJlZ2lzdGVyLmFwcGx5KCRzZXR1cCwgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIiDms6jlhowgIiksIF9jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJ3cmFwcGVyX19yZWdpc3Rlci1saW5rIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHNldHVwLmhhbmRsZUxvZ2luQ2xpY2sgJiYgJHNldHVwLmhhbmRsZUxvZ2luQ2xpY2suYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiIOW3suaciei0puWPt+WOu+eZu+W9lSAiKSwgJHNldHVwLnNob3cgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9Ub2FzdCwgewogICAga2V5OiAwLAogICAgbWVzc2FnZTogJHNldHVwLnRvYXN0TWVzc2FnZQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJtZXNzYWdlIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pOwp9KTs="},{"version":3,"sources":["G:\\远程京东\\jingdong\\src\\views\\register\\Register.vue"],"names":[],"mappings":";OAE4B,U,MAAyB,qB;;;;;;;AADhD,EAAA,KAAK,EAAC;;;8BACT,YAAA,CAAoD,KAApD,EAAoD;AAA/C,EAAA,KAAK,EAAC,cAAyC;AAA1B,EAAA,GAAyB,EAAzB;AAA0B,CAApD,E,IAAA,E;;AAAA,C;;;AACG,EAAA,KAAK,EAAC;;;AAGJ,EAAA,KAAK,EAAC;;;AAKJ,EAAA,KAAK,EAAC;;;;;;;;uBAVf,YAAA,CAqBQ,KArBR,EAAA,UAAA,EAqBQ,CApBN,UAoBM,EAnBR,YAAA,CAEQ,KAFR,EAAA,UAAA,EAEQ,C,gBADN,YAAA,CAAgF,OAAhF,EAAgF;AAAzE,IAAA,KAAK,EAAC,yBAAmE;AAAzC,IAAA,WAAW,EAAC,QAA6B;;aAAX,MAAA,CAAA,QAAA,GAAQ,M;;AAAG,GAAhF,E,IAAA,E;;AAAA,G,iBAAqE,MAAA,CAAA,Q,GAC/D,CAFR,CAmBQ,EAhBN,YAAA,CAIM,KAJN,EAAA,UAAA,EAIM,C,gBAHN,YAAA,CAEoC,OAFpC,EAEoC;AADpC,IAAA,KAAK,EAAC,yBAC8B;AADJ,IAAA,WAAW,EAAC,OACR;AAApC,IAAA,IAAI,EAAC,UAA+B;;aAAX,MAAA,CAAA,QAAA,GAAQ,M;;AAAG,GAFpC,E,IAAA,E;;AAAA,G,iBAEyB,MAAA,CAAA,Q,GACnB,CAJN,CAgBM,EAXJ,YAAA,CAGI,KAHJ,EAAA,UAAA,EAGI,C,gBAFN,YAAA,CACyF,OADzF,EACyF;AAAzF,IAAA,KAAK,EAAC,yBAAmF;AAAzD,IAAA,WAAW,EAAC,MAA6C;AAAtC,IAAA,IAAI,EAAC,UAAiC;;aAAb,MAAA,CAAA,UAAA,GAAU,M;;AAAG,GADzF,E,IAAA,E;;AAAA,G,iBAC4E,MAAA,CAAA,U,GACtE,CAHJ,CAWI,EAPN,YAAA,CAEM,KAFN,EAEM;AAFD,IAAA,KAAK,EAAC,0BAEL;AAFiC,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,cAAA,IAAA,MAAA,CAAA,cAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAEtC,GAFN,EAA8D,MAA9D,CAOM,EAJN,YAAA,CAEM,KAFN,EAEM;AAFD,IAAA,KAAK,EAAC,wBAEL;AAF+B,IAAA,OAAK,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA;AAAA,aAAE,MAAA,CAAA,gBAAA,IAAA,MAAA,CAAA,gBAAA,OAAA,MAAA,YAAF;AAAA,KAAA;AAEpC,GAFN,EAA8D,WAA9D,CAIM,EADO,MAAA,CAAA,I,kBAAb,YAAA,CAA4C,gBAA5C,EAA4C;UAAA;AAAxB,IAAA,OAAO,EAAE,MAAA,CAAA;AAAe,GAA5C,E,IAAA,E;;AAAA,I,WAAA,C,qCACM,CArBR,C","sourcesContent":["<template>\r\n<div class=\"wrapper\">\r\n  <img class=\"wrapper__img\" src=\"../../assets/编组.png\">\r\n<div class=\"wrapper__input\">\r\n  <input class=\"wrapper__input__content\" placeholder=\"请输入手机号\" v-model=\"username\"/>\r\n  </div>\r\n  <div class=\"wrapper__input\">\r\n  <input\r\n  class=\"wrapper__input__content\" placeholder=\"请输入密码\"\r\n  type=\"password\" v-model=\"password\"/>\r\n  </div>\r\n    <div class=\"wrapper__input\">\r\n  <input\r\n  class=\"wrapper__input__content\" placeholder=\"确认密码\" type=\"password\" v-model=\"ensurement\"/>\r\n  </div>\r\n  <div class=\"wrapper__register-button\" @click=\"handleRegister\">\r\n    注册\r\n  </div>\r\n  <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">\r\n    已有账号去登录\r\n  </div>\r\n  <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { useRouter } from 'vue-router'// 注册useRouter\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\n// 点击跳转到登录页面\r\nconst useLoginEffect = () => {\r\n  const router = useRouter()// 路由 用于页面跳转\r\n  const handleLoginClick = () => {\r\n    router.push({ name: 'Login' })// 跳转到name=Login的组件\r\n  }\r\n  return { handleLoginClick }\r\n}\r\n// 注册相关逻辑\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter()// 路由 用于页面跳转\r\n  const data = reactive({ // 中的数据已经与 input框的输入内容完成了双向绑定，输入内容改变，data里面的数据也相应改变，所以要用reactive 实现数据改变时的动态响应\r\n    username: '',\r\n    password: '',\r\n    ensurement: ''\r\n  })\r\n\r\n  // 注册点击\r\n  const handleRegister = async () => {\r\n    const { username, password, ensurement } = data\r\n    if (username === '' || password === '' || ensurement === '') {\r\n      return showToast('用户名和密码不能为空')\r\n    } else if (password !== ensurement) {\r\n      return showToast('两次密码需相同')\r\n    }\r\n    try { // 如果接口地址写错那么就会直接弹出去，不会政治性else登录失败语句，所以用try catch捕获错误\r\n      const result = await post('/api/user/register', { // post函数定义在utils/request.js中，封装了发送post请求的功能\r\n        username: data.username,\r\n        password: data.password\r\n      })\r\n      console.log(result)\r\n      if (result?.errno === 0) {\r\n        router.push({ name: 'Login' })\r\n      } else {\r\n        showToast('注册失败')\r\n      }\r\n    } catch {\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n  const { username, password, ensurement } = toRefs(data)\r\n  return { username, password, ensurement, handleRegister }\r\n}\r\n\r\nexport default {\r\n  components: { Toast: Toast },\r\n  setup () {\r\n    const { show, toastMessage, showToast } = useToastEffect()// 解构赋值\r\n    const { username, password, ensurement, handleRegister } = useRegisterEffect(showToast)\r\n    const { handleLoginClick } = useLoginEffect()\r\n    return { handleLoginClick, handleRegister, username, password, ensurement, show, toastMessage }\r\n  },\r\n  name: 'Register'\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n  position: absolute;\r\n  top:50%;\r\n  left:0;\r\n  right:0;\r\n  transform: translateY(-50%);\r\n  &__img{\r\n    width:.66rem;\r\n    height: .66rem;\r\n    display: block;\r\n    margin:0 auto .4rem auto;\r\n  }\r\n  &__input{\r\n    background: #F9F9F9;\r\n    border:1px solid rgba(0,0,0,0.10);\r\n    border-radius: 6px;\r\n    height:.48rem;\r\n    margin:0 .4rem .16rem .4rem;\r\n    padding: 0 .16rem;\r\n    &__content{\r\n      border:none;\r\n      outline: none;\r\n      line-height: .48rem;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: .16rem;\r\n       color: $content-notice-fontcolor;\r\n      &::placeholder{\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__register-button{\r\n   background: $btn-bgcolor;\r\n   box-shadow: 0 4px 8px 0 rgba(0,   145,255,0.32);\r\n    border-radius: 4px;\r\n    line-height:.48rem;\r\n    width: 2.95rem;\r\n    color:$bgcolor;\r\n    text-align: center;\r\n    font-size: .16rem;\r\n    margin: .32rem .4rem 0 .4rem;\r\n  }\r\n  &__register-link{\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    margin:.16rem;\r\n    color:$content-notice-fontcolor;\r\n\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}