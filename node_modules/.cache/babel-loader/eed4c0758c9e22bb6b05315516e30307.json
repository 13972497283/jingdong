{"remainingRequest":"G:\\远程京东\\jingdong\\node_modules\\babel-loader\\lib\\index.js!G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\远程京东\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!G:\\远程京东\\jingdong\\src\\views\\login\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"G:\\远程京东\\jingdong\\src\\views\\login\\Login.vue","mtime":1625409143367},{"path":"G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\远程京东\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\远程京东\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkc6L1x1OEZEQ1x1N0EwQlx1NEVBQ1x1NEUxQy9qaW5nZG9uZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB7IHJlYWN0aXZlLCB0b1JlZnMgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBwb3N0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmltcG9ydCBUb2FzdCwgeyB1c2VUb2FzdEVmZmVjdCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvVG9hc3QnOwoKdmFyIHVzZXJMb2dpbkVmZmVjdCA9IGZ1bmN0aW9uIHVzZXJMb2dpbkVmZmVjdChzaG93VG9hc3QpIHsKICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7IC8vIOi3r+eUsSDnlKjkuo7pobXpnaLot7PovawKCiAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICAvLyDkuK3nmoTmlbDmja7lt7Lnu4/kuI4gaW5wdXTmoYbnmoTovpPlhaXlhoXlrrnlrozmiJDkuoblj4zlkJHnu5HlrprvvIzovpPlhaXlhoXlrrnmlLnlj5jvvIxkYXRh6YeM6Z2i55qE5pWw5o2u5Lmf55u45bqU5pS55Y+Y77yM5omA5Lul6KaB55SocmVhY3RpdmUg5a6e546w5pWw5o2u5pS55Y+Y5pe255qE5Yqo5oCB5ZON5bqUCiAgICB1c2VybmFtZTogJycsCiAgICBwYXNzd29yZDogJycKICB9KTsgLy8g55m75b2V54K55Ye7CgogIHZhciBoYW5kbGVMb2dpbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIF91c2VybmFtZSwgX3Bhc3N3b3JkLCByZXN1bHQ7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgX3VzZXJuYW1lID0gZGF0YS51c2VybmFtZSwgX3Bhc3N3b3JkID0gZGF0YS5wYXNzd29yZDsKCiAgICAgICAgICAgICAgaWYgKCEoX3VzZXJuYW1lID09PSAnJyB8fCBfcGFzc3dvcmQgPT09ICcnKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHNob3dUb2FzdCgn55So5oi35ZCN5ZKM5a+G56CB5LiN6IO95Li656m6JykpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBwb3N0KCcvYXBpL3VzZXIvbG9naW4nLCB7CiAgICAgICAgICAgICAgICAvLyBwb3N05Ye95pWw5a6a5LmJ5ZyodXRpbHMvcmVxdWVzdC5qc+S4re+8jOWwgeijheS6huWPkemAgXBvc3Tor7fmsYLnmoTlip/og70KICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBkYXRhLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGRhdGEucGFzc3dvcmQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CgogICAgICAgICAgICAgIGlmICgocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LmVycm5vKSA9PT0gMCkgewogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmlzTG9naW4gPSB0cnVlOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnSG9tZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93VG9hc3QoJ+eZu+W9leWksei0pScpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICBzaG93VG9hc3QoJ+ivt+axguWksei0pScpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCAxMV1dKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlTG9naW4oKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIF90b1JlZnMgPSB0b1JlZnMoZGF0YSksCiAgICAgIHVzZXJuYW1lID0gX3RvUmVmcy51c2VybmFtZSwKICAgICAgcGFzc3dvcmQgPSBfdG9SZWZzLnBhc3N3b3JkOwoKICByZXR1cm4gewogICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgaGFuZGxlTG9naW46IGhhbmRsZUxvZ2luCiAgfTsKfTsKCnZhciB1c2VyUmVnaXN0ZXJFZmZlY3QgPSBmdW5jdGlvbiB1c2VyUmVnaXN0ZXJFZmZlY3QoKSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOyAvLyDot6/nlLEg55So5LqO6aG16Z2i6Lez6L2sCgogIHZhciBoYW5kbGVSZWdpc3RlckNsaWNrID0gZnVuY3Rpb24gaGFuZGxlUmVnaXN0ZXJDbGljaygpIHsKICAgIHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogJ1JlZ2lzdGVyJwogICAgfSk7IC8vIOi3s+i9rOWIsFJlZ2lzdGVy6aG16Z2iCiAgfTsKCiAgcmV0dXJuIHsKICAgIGhhbmRsZVJlZ2lzdGVyQ2xpY2s6IGhhbmRsZVJlZ2lzdGVyQ2xpY2sKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFRvYXN0OiBUb2FzdAogIH0sCiAgbmFtZTogJ0xvZ2luJywKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICAvLyDku6PnoIHmiafooYzmtYHnqIsKICAgIHZhciBfdXNlVG9hc3RFZmZlY3QgPSB1c2VUb2FzdEVmZmVjdCgpLAogICAgICAgIHNob3cgPSBfdXNlVG9hc3RFZmZlY3Quc2hvdywKICAgICAgICB0b2FzdE1lc3NhZ2UgPSBfdXNlVG9hc3RFZmZlY3QudG9hc3RNZXNzYWdlLAogICAgICAgIHNob3dUb2FzdCA9IF91c2VUb2FzdEVmZmVjdC5zaG93VG9hc3Q7IC8vIOino+aehOi1i+WAvAoKCiAgICB2YXIgX3VzZXJMb2dpbkVmZmVjdCA9IHVzZXJMb2dpbkVmZmVjdChzaG93VG9hc3QpLAogICAgICAgIHVzZXJuYW1lID0gX3VzZXJMb2dpbkVmZmVjdC51c2VybmFtZSwKICAgICAgICBwYXNzd29yZCA9IF91c2VyTG9naW5FZmZlY3QucGFzc3dvcmQsCiAgICAgICAgaGFuZGxlTG9naW4gPSBfdXNlckxvZ2luRWZmZWN0LmhhbmRsZUxvZ2luOwoKICAgIHZhciBfdXNlclJlZ2lzdGVyRWZmZWN0ID0gdXNlclJlZ2lzdGVyRWZmZWN0KCksCiAgICAgICAgaGFuZGxlUmVnaXN0ZXJDbGljayA9IF91c2VyUmVnaXN0ZXJFZmZlY3QuaGFuZGxlUmVnaXN0ZXJDbGljazsKCiAgICByZXR1cm4gewogICAgICBoYW5kbGVMb2dpbjogaGFuZGxlTG9naW4sCiAgICAgIGhhbmRsZVJlZ2lzdGVyQ2xpY2s6IGhhbmRsZVJlZ2lzdGVyQ2xpY2ssCiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLAogICAgICBzaG93OiBzaG93LAogICAgICB0b2FzdE1lc3NhZ2U6IHRvYXN0TWVzc2FnZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["G:\\远程京东\\jingdong\\src\\views\\login\\Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n<div class=\"wrapper\">\r\n  <img class=\"wrapper__img\" src=\"../../assets/编组.png\">\r\n<div class=\"wrapper__input\">\r\n  <!-- 使用v-model实现数据的双向绑定，data.username就等于此时输入这个input框的值 -->\r\n  <input class=\"wrapper__input__content\" placeholder=\"请输入手机号\" v-model=\"username\"/>\r\n  </div>\r\n  <div class=\"wrapper__input\">\r\n    <!-- 使用v-model实现数据的双向绑定，data.password就等于此时输入这个input框的值 -->\r\n  <input\r\n  class=\"wrapper__input__content\" placeholder=\"请输入密码\" type=\"password\" v-model=\"password\"/>\r\n  </div>\r\n  <div class=\"wrapper__login-button\" @click=\"handleLogin\">\r\n    登录\r\n  </div>\r\n  <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">\r\n    立即注册\r\n  </div>\r\n  <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast, { useToastEffect } from '../../components/Toast'\r\n\r\nconst userLoginEffect = (showToast) => {\r\n  const router = useRouter()// 路由 用于页面跳转\r\n  const data = reactive({ // 中的数据已经与 input框的输入内容完成了双向绑定，输入内容改变，data里面的数据也相应改变，所以要用reactive 实现数据改变时的动态响应\r\n    username: '',\r\n    password: ''\r\n  })\r\n\r\n  // 登录点击\r\n  const handleLogin = async () => {\r\n    try {\r\n      const { username, password } = data\r\n      if (username === '' || password === '') {\r\n        return showToast('用户名和密码不能为空')\r\n      }\r\n      // 如果接口地址写错那么就会直接弹出去，不会政治性else登录失败语句，所以用try catch捕获错误\r\n      const result = await post('/api/user/login', { // post函数定义在utils/request.js中，封装了发送post请求的功能\r\n        username: data.username,\r\n        password: data.password\r\n      })\r\n      console.log(result)\r\n      if (result?.errno === 0) {\r\n        localStorage.isLogin = true\r\n        router.push({ name: 'Home' })\r\n      } else {\r\n        showToast('登录失败')\r\n      }\r\n    } catch {\r\n      showToast('请求失败')\r\n    }\r\n\r\n    // .then(() => {\r\n    //   localStorage.isLogin = true// 只要点击登录就给  localStorage.isLogin = true，跳转需要使用这个localStorage.isLogin\r\n    //   router.push({ name: 'Home' })// 跳转到Home页面\r\n    // }).catch(() => {\r\n    //   alert('失败')\r\n    // })\r\n  }\r\n  const { username, password } = toRefs(data)\r\n  return { username, password, handleLogin }\r\n}\r\n\r\nconst userRegisterEffect = () => {\r\n  const router = useRouter()// 路由 用于页面跳转\r\n  const handleRegisterClick = () => {\r\n    router.push({ name: 'Register' })// 跳转到Register页面\r\n  }\r\n  return { handleRegisterClick }\r\n}\r\n\r\nexport default {\r\n  components: { Toast },\r\n  name: 'Login',\r\n  setup () { // 代码执行流程\r\n    const { show, toastMessage, showToast } = useToastEffect()// 解构赋值\r\n    const { username, password, handleLogin } = userLoginEffect(showToast)\r\n    const { handleRegisterClick } = userRegisterEffect()\r\n\r\n    return {\r\n      handleLogin,\r\n      handleRegisterClick,\r\n      username,\r\n      password,\r\n      show,\r\n      toastMessage\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n  position: absolute;\r\n  top:50%;\r\n  left:0;\r\n  right:0;\r\n  transform: translateY(-50%);\r\n  &__img{\r\n    width:.66rem;\r\n    height: .66rem;\r\n    display: block;\r\n    margin:0 auto .4rem auto;\r\n  }\r\n  &__input{\r\n    background: #F9F9F9;\r\n    border:1px solid rgba(0,0,0,0.10);\r\n    border-radius: 6px;\r\n    height:.48rem;\r\n    margin:0 .4rem .16rem .4rem;\r\n    padding: 0 .16rem;\r\n    &__content{\r\n      border:none;\r\n      outline: none;\r\n      line-height: .48rem;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: .16rem;\r\n       color: $content-notice-fontcolor;\r\n      &::placeholder{\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__login-button{\r\n   background: $btn-bgcolor;\r\n   box-shadow: 0 4px 8px 0 rgba(0,   145,255,0.32);\r\n    border-radius: 4px;\r\n    line-height:.48rem;\r\n    width: 2.95rem;\r\n    color:$bgcolor;\r\n    text-align: center;\r\n    font-size: .16rem;\r\n    margin: .32rem .4rem 0 .4rem;\r\n  }\r\n  &__login-link{\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    margin:.16rem;\r\n    color:$content-notice-fontcolor;\r\n\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}