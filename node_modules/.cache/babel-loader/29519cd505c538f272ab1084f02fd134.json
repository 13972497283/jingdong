{"remainingRequest":"G:\\远程京东\\jingdong\\node_modules\\babel-loader\\lib\\index.js!G:\\远程京东\\jingdong\\node_modules\\eslint-loader\\index.js??ref--13-0!G:\\远程京东\\jingdong\\src\\store\\index.js","dependencies":[{"path":"G:\\远程京东\\jingdong\\src\\store\\index.js","mtime":1625755935162},{"path":"G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\远程京东\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\远程京东\\jingdong\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7Cgp2YXIgc2V0TG9jYWxDYXJ0TGlzdCA9IGZ1bmN0aW9uIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpIHsKICB2YXIgY2FydExpc3QgPSBzdGF0ZS5jYXJ0TGlzdDsKICB2YXIgY2FydExpc3RTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShjYXJ0TGlzdCk7IC8vIOWwhmNhcnRMaXN05a+56LGh6L2s5Li65a2X56ym5Liy77yM5Lul5L6/5a2Y5YKo5YiwbG9jYWxTdG9yYWdlCgogIGxvY2FsU3RvcmFnZS5jYXJ0TGlzdCA9IGNhcnRMaXN0U3RyaW5nOyAvLyBjb25zb2xlLmxvZyhjYXJ0TGlzdFN0cmluZyljYXJ0TGlzdFN0cmluZ+S4uuWtl+espuS4sgp9OwoKdmFyIGdldExvY2FDYXJ0TGlzdCA9IGZ1bmN0aW9uIGdldExvY2FDYXJ0TGlzdCgpIHsKICAvLyB7IHNob3BJZDoge3Nob3BOYW1lOicnLCBwcm9kdWN0TGlzdDp7IHByb2R1Y3RJZDoge30gfX19CiAgaWYgKGxvY2FsU3RvcmFnZS5jYXJ0TGlzdCkgewogICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmNhcnRMaXN0KTsgLy8g5a+55bqUc2V0TG9jYWxDYXJ0TGlzdO+8iO+8ieS4reeahGNvbnN0IGNhcnRMaXN0U3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoY2FydExpc3Qp5bCG5a2X56ym5LiybG9jYWxTdG9yYWdlLmNhcnRMaXN06L2s5o2i5oiQ5a+56LGhCiAgfSBlbHNlIHsKICAgIHJldHVybiB7fTsKICB9Cn07CgpleHBvcnQgZGVmYXVsdCBWdWV4LmNyZWF0ZVN0b3JlKHsKICBzdGF0ZTogewogICAgLy8geyBzaG9wSWQ6IHtzaG9wTmFtZTonJywgcHJvZHVjdExpc3Q6eyBwcm9kdWN0SWQ6IHt9IH19fQogICAgY2FydExpc3Q6IGdldExvY2FDYXJ0TGlzdCgpCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGNoYW5nZUNhcnRJdGVtSW5mbzogZnVuY3Rpb24gY2hhbmdlQ2FydEl0ZW1JbmZvKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZCwKICAgICAgICAgIHByb2R1Y3RJZCA9IHBheWxvYWQucHJvZHVjdElkLAogICAgICAgICAgcHJvZHVjdEluZm8gPSBwYXlsb2FkLnByb2R1Y3RJbmZvOwogICAgICB2YXIgc2hvcEluZm8gPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdIHx8IHsKICAgICAgICBzaG9wTmFtZTogJycsCiAgICAgICAgcHJvZHVjdExpc3Q6IHt9CiAgICAgIH07IC8vIOWmguaenOi0reeJqei9puS4reayoeaciei/meWutuW6l++8jOmCo+S5iOi/meWutuW6l+iuvuS4uuepuuWvueixoQoKICAgICAgdmFyIHByb2R1Y3QgPSBzaG9wSW5mby5wcm9kdWN0TGlzdFtwcm9kdWN0SWRdOwoKICAgICAgaWYgKCFwcm9kdWN0KSB7CiAgICAgICAgLy8g5aaC5p6c6LSt54mp6L2m6YeM6L+Z5a625bqX6YeM5rKh5pyJ6K+l5ZWG5ZOBCiAgICAgICAgcHJvZHVjdCA9IHByb2R1Y3RJbmZvOyAvLyDpgqPkuYjotK3nianovabph4zor6XllYblk4Hkv6Hmga/nrYnkuo7ku47llYblk4HliJfooajmi7/mnaXnmoTllYblk4Hkv6Hmga8KCiAgICAgICAgcHJvZHVjdEluZm8uY291bnQgPSAwOwogICAgICB9CgogICAgICBwcm9kdWN0LmNvdW50ID0gcHJvZHVjdC5jb3VudCArIHBheWxvYWQubnVtOwoKICAgICAgaWYgKHBheWxvYWQubnVtID4gMCkgewogICAgICAgIHByb2R1Y3QuY2hlY2sgPSB0cnVlOwogICAgICB9IC8vIOi0reeJqei9puWIl+ihqOS4reWVhuWTgeaVsOmHjz4w5pe277yMY2hlY2s9dHJ1ZQoKCiAgICAgIGlmIChwcm9kdWN0LmNvdW50IDwgMCkgewogICAgICAgIHByb2R1Y3QuY291bnQgPSAwOwogICAgICB9CgogICAgICBzaG9wSW5mby5wcm9kdWN0TGlzdFtwcm9kdWN0SWRdID0gcHJvZHVjdDsgLy8g5ZWG5ZOB5YiX6KGo55qE5ZWG5ZOB5L+h5oGv5ZCM5q2l5Yiw6LSt54mp6L2m5Lit6K+l5bqX6ZO655qE6K+l5ZWG5ZOB5LitCgogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdID0gc2hvcEluZm87IC8vIOW6l+mTuuS/oeaBr+WQjOatpeWIsOi0reeJqei9puS4reeahOivpeW6l+mTuuS/oeaBrwoKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7IC8vIOWwhui0reeJqei9pnN0YXRl5L+d5a2Y5Yiw5pys5Zyw5rC45LmF5oyB5a2YCiAgICB9LAogICAgY2hhbmdlU2hvcE5hbWU6IGZ1bmN0aW9uIGNoYW5nZVNob3BOYW1lKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZCwKICAgICAgICAgIHNob3BOYW1lID0gcGF5bG9hZC5zaG9wTmFtZTsKICAgICAgdmFyIHNob3BJbmZvID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXSB8fCB7CiAgICAgICAgc2hvcE5hbWU6ICcnLAogICAgICAgIHByb2R1Y3RMaXN0OiB7fQogICAgICB9OwogICAgICBzaG9wSW5mby5zaG9wTmFtZSA9IHNob3BOYW1lOwogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdID0gc2hvcEluZm87CiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOyAvLyDkv53lrZjlkI3lrZfnmoTml7blgJnkuZ/opoHlsIbmlrDlupflkI3kv53lrZjliLDmnKzlnLAKICAgIH0sCiAgICBjaGFuZ2VDYXJ0SXRlbUNoZWNrZWQ6IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtQ2hlY2tlZChzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBwcm9kdWN0SWQgPSBwYXlsb2FkLnByb2R1Y3RJZDsKICAgICAgdmFyIHByb2R1Y3QgPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdLnByb2R1Y3RMaXN0W3Byb2R1Y3RJZF07CiAgICAgIHByb2R1Y3QuY2hlY2sgPSAhcHJvZHVjdC5jaGVjazsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgY2xlYW5DYXJ0UHJvZHVjdHM6IGZ1bmN0aW9uIGNsZWFuQ2FydFByb2R1Y3RzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZDsKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXS5wcm9kdWN0TGlzdCA9IHt9OwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICBzZXRDYXJ0SXRlbXNDaGVja2VkOiBmdW5jdGlvbiBzZXRDYXJ0SXRlbXNDaGVja2VkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZDsKICAgICAgdmFyIHByb2R1Y3RzID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXS5wcm9kdWN0TGlzdDsKCiAgICAgIGlmIChwcm9kdWN0cykgewogICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9kdWN0cykgewogICAgICAgICAgdmFyIHByb2R1Y3QgPSBwcm9kdWN0c1trZXldOwogICAgICAgICAgcHJvZHVjdC5jaGVjayA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHt9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["G:/远程京东/jingdong/src/store/index.js"],"names":["Vuex","setLocalCartList","state","cartList","cartListString","JSON","stringify","localStorage","getLocaCartList","parse","createStore","mutations","changeCartItemInfo","payload","shopId","productId","productInfo","shopInfo","shopName","productList","product","count","num","check","changeShopName","changeCartItemChecked","cleanCartProducts","setCartItemsChecked","products","key","actions","modules"],"mappings":"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","sourcesContent":["import Vuex from 'vuex'\n\nconst setLocalCartList = (state) => {\n  const { cartList } = state\n  const cartListString = JSON.stringify(cartList)// 将cartList对象转为字符串，以便存储到localStorage\n  localStorage.cartList = cartListString\n  // console.log(cartListString)cartListString为字符串\n}\n\nconst getLocaCartList = () => {\n  // { shopId: {shopName:'', productList:{ productId: {} }}}\n  if (localStorage.cartList) {\n    return JSON.parse(localStorage.cartList)// 对应setLocalCartList（）中的const cartListString = JSON.stringify(cartList)将字符串localStorage.cartList转换成对象\n  } else {\n    return {}\n  }\n}\n\nexport default Vuex.createStore({\n  state: {\n    // { shopId: {shopName:'', productList:{ productId: {} }}}\n    cartList: getLocaCartList()\n  },\n  mutations: {\n    changeCartItemInfo (state, payload) {\n      const { shopId, productId, productInfo } = payload\n      const shopInfo = state.cartList[shopId] || { shopName: '', productList: {} }// 如果购物车中没有这家店，那么这家店设为空对象\n      let product = shopInfo.productList[productId]\n      if (!product) { // 如果购物车里这家店里没有该商品\n        product = productInfo// 那么购物车里该商品信息等于从商品列表拿来的商品信息\n        productInfo.count = 0\n      }\n      product.count = product.count + payload.num\n      if (payload.num > 0) { product.check = true }// 购物车列表中商品数量>0时，check=true\n      if (product.count < 0) { product.count = 0 }\n      shopInfo.productList[productId] = product // 商品列表的商品信息同步到购物车中该店铺的该商品中\n      state.cartList[shopId] = shopInfo// 店铺信息同步到购物车中的该店铺信息\n      setLocalCartList(state)// 将购物车state保存到本地永久持存\n    },\n    changeShopName (state, payload) {\n      const { shopId, shopName } = payload\n      const shopInfo = state.cartList[shopId] || {\n        shopName: '', productList: {}\n      }\n      shopInfo.shopName = shopName\n      state.cartList[shopId] = shopInfo\n      setLocalCartList(state)// 保存名字的时候也要将新店名保存到本地\n    },\n    changeCartItemChecked (state, payload) {\n      const { shopId, productId } = payload\n      const product = state.cartList[shopId].productList[productId]\n      product.check = !product.check\n      setLocalCartList(state)\n    },\n    cleanCartProducts (state, payload) {\n      const { shopId } = payload\n      state.cartList[shopId].productList = {}\n      setLocalCartList(state)\n    },\n    setCartItemsChecked (state, payload) {\n      const { shopId } = payload\n      const products = state.cartList[shopId].productList\n      if (products) {\n        for (const key in products) {\n          const product = products[key]\n          product.check = true\n        }\n      }\n      setLocalCartList(state)\n    }\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"]}]}