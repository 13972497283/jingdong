{"remainingRequest":"G:\\远程京东\\jingdong\\node_modules\\babel-loader\\lib\\index.js!G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\远程京东\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!G:\\远程京东\\jingdong\\src\\views\\cartList\\CartList.vue?vue&type=script&lang=js","dependencies":[{"path":"G:\\远程京东\\jingdong\\src\\views\\cartList\\CartList.vue","mtime":1626082632561},{"path":"G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\远程京东\\jingdong\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\远程京东\\jingdong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\远程京东\\jingdong\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiRzovXHU4RkRDXHU3QTBCXHU0RUFDXHU0RTFDL2ppbmdkb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgRG9ja2VyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRG9ja2VyLnZ1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7IC8vIOa3seWFi+mahuWHveaVsAoKZnVuY3Rpb24gZGVlcENsb25lKG8pIHsKICB2YXIgYTsKCiAgaWYgKEFycmF5LmlzQXJyYXkobykpIHsKICAgIGEgPSBbXTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKyspIHsKICAgICAgYS5wdXNoKGRlZXBDbG9uZShvW2ldKSk7CiAgICB9CiAgfSBlbHNlIGlmIChfdHlwZW9mKG8pID09PSAnb2JqZWN0JykgewogICAgYSA9IHt9OwoKICAgIGZvciAodmFyIGsgaW4gbykgewogICAgICBhW2tdID0gZGVlcENsb25lKG9ba10pOwogICAgfQogIH0gZWxzZSB7CiAgICBhID0gbzsKICB9CgogIHJldHVybiBhOwp9IC8vIOWFi+mahui0reeJqei9pua3u+WKoOaYr+WQpuWxleekuuivpeW6l+mTuuWxnuaAp3Nob3dTaG9wCgoKdmFyIGNsb25lQ2FydExpc3RUb1Nob3BMaXN0ID0gZnVuY3Rpb24gY2xvbmVDYXJ0TGlzdFRvU2hvcExpc3QoKSB7CiAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICB2YXIgY2FydExpc3QgPSBzdG9yZS5zdGF0ZS5jYXJ0TGlzdDsKICB2YXIgc2hvcExpc3QgPSBkZWVwQ2xvbmUoY2FydExpc3QpOyAvLyDlhYvpmoZ2dWV45Lit55qEY2FydExpc3QKCiAgZm9yICh2YXIgc2hvcCBpbiBzaG9wTGlzdCkgewogICAgdmFyIFRPRiA9IHJlZihmYWxzZSk7CgogICAgZm9yICh2YXIgcHJvZHVjdCBpbiBzaG9wTGlzdFtzaG9wXS5wcm9kdWN0TGlzdCkgewogICAgICBpZiAoc2hvcExpc3Rbc2hvcF0ucHJvZHVjdExpc3RbcHJvZHVjdF0uY291bnQgPiAwKSB7CiAgICAgICAgVE9GLnZhbHVlID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIHNob3BMaXN0W3Nob3BdLnNob3dTaG9wID0gVE9GLnZhbHVlOyAvLyDkuLror6Xlupfmt7vliqDmmK/lkKblsZXnpLrnmoTlsZ7mgKcKICB9CgogIHJldHVybiB7CiAgICBzaG9wTGlzdDogc2hvcExpc3QKICB9Owp9OyAvLwoKCnZhciBzaG93RW1wdHlDYXJ0TWFzayA9IGZ1bmN0aW9uIHNob3dFbXB0eUNhcnRNYXNrKHNob3BMaXN0KSB7CiAgdmFyIHNob3dFbXB0eSA9IHJlZih0cnVlKTsKCiAgZm9yICh2YXIgc2hvcCBpbiBzaG9wTGlzdCkgewogICAgaWYgKHNob3BMaXN0W3Nob3BdLnNob3dTaG9wID09PSB0cnVlKSB7CiAgICAgIHNob3dFbXB0eS52YWx1ZSA9IGZhbHNlOwogICAgfQogIH0KCiAgdmFyIHNob3dFbXB0eUNhcnQgPSBzaG93RW1wdHkudmFsdWU7CiAgcmV0dXJuIHsKICAgIHNob3dFbXB0eUNhcnQ6IHNob3dFbXB0eUNhcnQKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERvY2tlcjogRG9ja2VyCiAgfSwKICBuYW1lOiAnQ2FydExpc3QnLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBfY2xvbmVDYXJ0TGlzdFRvU2hvcEwgPSBjbG9uZUNhcnRMaXN0VG9TaG9wTGlzdCgpLAogICAgICAgIHNob3BMaXN0ID0gX2Nsb25lQ2FydExpc3RUb1Nob3BMLnNob3BMaXN0OwoKICAgIHZhciBfc2hvd0VtcHR5Q2FydE1hc2sgPSBzaG93RW1wdHlDYXJ0TWFzayhzaG9wTGlzdCksCiAgICAgICAgc2hvd0VtcHR5Q2FydCA9IF9zaG93RW1wdHlDYXJ0TWFzay5zaG93RW1wdHlDYXJ0OwoKICAgIHJldHVybiB7CiAgICAgIHNob3BMaXN0OiBzaG9wTGlzdCwKICAgICAgc2hvd0VtcHR5Q2FydDogc2hvd0VtcHR5Q2FydAogICAgfTsKICB9Cn07"},{"version":3,"sources":["G:\\远程京东\\jingdong\\src\\views\\cartList\\CartList.vue"],"names":[],"mappings":";AAuCA,OAAO,MAAP,MAAmB,6BAAnB;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,GAAT,QAAoB,KAApB,C,CACA;;AACA,SAAS,SAAT,CAAoB,CAApB,EAAuB;AACrB,MAAI,CAAJ;;AACA,MAAI,KAAK,CAAC,OAAN,CAAc,CAAd,CAAJ,EAAsB;AACpB,IAAA,CAAA,GAAI,EAAJ;;AACA,SAAK,IAAI,CAAA,GAAI,CAAb,EAAgB,CAAA,GAAI,CAAC,CAAC,MAAtB,EAA8B,CAAC,EAA/B,EAAmC;AACjC,MAAA,CAAC,CAAC,IAAF,CAAO,SAAS,CAAC,CAAC,CAAC,CAAD,CAAF,CAAhB;AACF;AACF,GALA,MAKO,IAAI,QAAO,CAAP,MAAa,QAAjB,EAA2B;AAChC,IAAA,CAAA,GAAI,EAAJ;;AACA,SAAK,IAAI,CAAT,IAAc,CAAd,EAAiB;AACf,MAAA,CAAC,CAAC,CAAD,CAAD,GAAO,SAAS,CAAC,CAAC,CAAC,CAAD,CAAF,CAAhB;AACF;AACF,GALO,MAKA;AACL,IAAA,CAAA,GAAI,CAAJ;AACF;;AACA,SAAO,CAAP;AACF,C,CACA;;;AACA,IAAM,uBAAsB,GAAI,SAA1B,uBAA0B,GAAM;AACpC,MAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,MAAM,QAAO,GAAI,KAAK,CAAC,KAAN,CAAY,QAA7B;AACA,MAAI,QAAO,GAAI,SAAS,CAAC,QAAD,CAAxB,CAHoC,CAGF;;AAClC,OAAK,IAAM,IAAX,IAAmB,QAAnB,EAA6B;AAC3B,QAAM,GAAE,GAAI,GAAG,CAAC,KAAD,CAAf;;AACA,SAAK,IAAM,OAAX,IAAsB,QAAQ,CAAC,IAAD,CAAR,CAAe,WAArC,EAAkD;AAChD,UAAI,QAAQ,CAAC,IAAD,CAAR,CAAe,WAAf,CAA2B,OAA3B,EAAoC,KAApC,GAA4C,CAAhD,EAAmD;AACjD,QAAA,GAAG,CAAC,KAAJ,GAAY,IAAZ;AACF;AACF;;AACA,IAAA,QAAQ,CAAC,IAAD,CAAR,CAAe,QAAf,GAA0B,GAAG,CAAC,KAA9B,CAP2B,CAOQ;AACrC;;AACA,SAAO;AAAE,IAAA,QAAO,EAAP;AAAF,GAAP;AACF,CAdA,C;;;AAiBA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,CAAC,QAAD,EAAc;AACtC,MAAM,SAAQ,GAAI,GAAG,CAAC,IAAD,CAArB;;AACA,OAAK,IAAM,IAAX,IAAmB,QAAnB,EAA6B;AAC3B,QAAI,QAAQ,CAAC,IAAD,CAAR,CAAe,QAAf,KAA4B,IAAhC,EAAsC;AACpC,MAAA,SAAS,CAAC,KAAV,GAAkB,KAAlB;AACF;AACF;;AACA,MAAM,aAAY,GAAI,SAAS,CAAC,KAAhC;AACA,SAAO;AAAE,IAAA,aAAY,EAAZ;AAAF,GAAP;AACF,CATA;;AAUA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,MAAK,EAAL;AAAF,GADC;AAEb,EAAA,IAAI,EAAE,UAFO;AAGb,EAAA,KAHa,mBAGJ;AACP,gCAAqB,uBAAuB,EAA5C;AAAA,QAAQ,QAAR,yBAAQ,QAAR;;AACA,6BAA0B,iBAAiB,CAAC,QAAD,CAA3C;AAAA,QAAQ,aAAR,sBAAQ,aAAR;;AACA,WAAO;AAAE,MAAA,QAAQ,EAAR,QAAF;AAAY,MAAA,aAAY,EAAZ;AAAZ,KAAP;AACF;AAPa,CAAf","sourcesContent":["<template>\n<div class=\"wrapper\">\n  <div class=\"top\">\n  <div class=\"title\">我的全部购物车</div>\n  </div>\n  <div class=\"cart\">\n    <template\n    v-for=\"(item,index) in shopList\"\n      :key=\"index\" >\n      <div class=\"cart__shop\" v-if=\"item.showShop\"\n    >\n        <div class=\"cart__shop__name\">{{item.shopName}}</div>\n        <template v-for=\"item in item.productList\" :key=\"item._id\">\n          <div class=\"cart__shop__product\"  v-if=\"item.count>0\">\n\n            <img  class=\"product__img\" :src=\"item.imgUrl\"/>\n\n            <span class=\"product__detail\">\n              <div class=\"product__detail__name\">{{item.name}}</div>\n              <div class=\"product__detail__prices\">\n                <span class=\"product__detail__prices__singleprice\">￥{{item.price}} × {{item.count}}</span>\n                <span class=\"product__detail__prices__totalprice\">￥{{item.price*item.count}}</span>\n              </div>\n            </span>\n          </div>\n        </template>\n      </div>\n      </template>\n  </div>\n</div>\n  <Docker :currentIndex=\"1\"/>\n  <mask class=\"emptyCart\" v-if=\"showEmptyCart\">\n    <img\n    class=\"emptyCart__img\"\n    src=\"../../assets/购物车是空的.jpg\">\n  </mask>\n</template>\n\n<script>\nimport Docker from '../../components/Docker.vue'\nimport { useStore } from 'vuex'\nimport { ref } from 'vue'\n// 深克隆函数\nfunction deepClone (o) {\n  let a\n  if (Array.isArray(o)) {\n    a = []\n    for (let i = 0; i < o.length; i++) {\n      a.push(deepClone(o[i]))\n    }\n  } else if (typeof o === 'object') {\n    a = {}\n    for (var k in o) {\n      a[k] = deepClone(o[k])\n    }\n  } else {\n    a = o\n  }\n  return a\n}\n// 克隆购物车添加是否展示该店铺属性showShop\nconst cloneCartListToShopList = () => {\n  const store = useStore()\n  const cartList = store.state.cartList\n  var shopList = deepClone(cartList)// 克隆vuex中的cartList\n  for (const shop in shopList) {\n    const TOF = ref(false)\n    for (const product in shopList[shop].productList) {\n      if (shopList[shop].productList[product].count > 0) {\n        TOF.value = true\n      }\n    }\n    shopList[shop].showShop = TOF.value// 为该店添加是否展示的属性\n  }\n  return { shopList }\n}\n\n//\nconst showEmptyCartMask = (shopList) => {\n  const showEmpty = ref(true)\n  for (const shop in shopList) {\n    if (shopList[shop].showShop === true) {\n      showEmpty.value = false\n    }\n  }\n  const showEmptyCart = showEmpty.value\n  return { showEmptyCart }\n}\nexport default {\n  components: { Docker },\n  name: 'CartList',\n  setup () {\n    const { shopList } = cloneCartListToShopList()\n    const { showEmptyCart } = showEmptyCartMask(shopList)\n    return { shopList, showEmptyCart }\n  }\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.wrapper{\n  left:0;\n  right:0;\n  top:0;\n  bottom: .5rem;\n  position: absolute;\n  background: rgb(248, 248,248);\n}\n.top{\n  height: .64rem;\n  background: #FFF;\n  color: #333333;\n  .title{\n    padding-top:.2rem ;\n    line-height: .44rem;\n    text-align: center;\n    font-family: PingFangSC-Regular;\n    font-size: 16px;\n  }\n}\n.cart{\n  position:absolute;\n  background: #F5F5F5;\n  overflow-y:scroll;\n  top:.64rem;\n  bottom:0;\n  left:0;\n  right:0;\n&__shop{\nmargin:.16rem .18rem;\nbackground: #FFF;\npadding:.16rem;\nborder-radius: .04rem;\n&__name{\nfont-family: PingFangSC-Medium;\nfont-size: 16px;\ncolor: #333333;\n}\n&__product{\nmargin-top:.16rem;\ndisplay: flex;\n}\n}\n}\n.product{\n  &__img{\n    width:.46rem;\n    height:.46rem;\n  }\n  &__detail{\n    flex:1;\n    margin-left:.16rem;\n    &__name{\n      font-family: PingFangSC-Medium;\n      font-size: .14rem;\n      color: #333333;\n      margin-bottom: .06rem;\n      line-height: .2rem;\n    }\n    &__prices{\n      font-family: PingFangSC-Regular;\n      font-size:.14rem;\n      line-height: .14rem;\n      display: flex;\n      &__singleprice{\n        flex:1;\n        color: #E93B3B;\n       text-align: left;\n      }\n      &__totalprice{\n        flex:1;\n      text-align: right;\n      }\n    }\n  }\n}\n.emptyCart{\n  // height:5.54rem;\n  left:.16rem;\n  right:.16rem;\n  position:absolute;\n  top:.80rem;\n  bottom:.65rem;\n  background: #FFF;\n  // margin:.16rem .16rem 0 .16rem;\n  z-index:0;\n  &__img{\n    width:2rem;\n    height:2rem;\n    top:50%;\n    left:50%;\n    transform: translate(-50%,-50%);\n    position: absolute;\n  }\n}\n</style>\n"],"sourceRoot":""}]}